先给一个字符串s, 再给Q $(1 \leq Q \leq 10^5)$ 个操作, 每个操作要么得到新的字符串ss, 要么求有多少长度为n $(1\leq n \leq 10^5)$ 的字符串, s是它的子序列. (s长度和不超过$10^5$).

首先是, 求公式, 容易推出, 答案与s的内容无关, 假设s的长度为L, 则答案为 $f[n][L] = 26 \cdot f[n-1][L] + 25^{n-L} C_{n-1}^{L-1}$
可以看出一个询问的时间为$O(n)$, 则总复杂度为$O(nm)$

但是, 当$L$不变是, 多个询问的时间还是为 $O(n)$, 而由于s的长度和$|S|$不超过$10^5$, $L$的个数最多$\sqrt{2|S|}$个, 所以最后的复杂度为 $O(\sqrt{2|S|}n)$
